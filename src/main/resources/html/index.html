<html>
<head>
<link rel="stylesheet" href="jquery-ui.css">
<link rel="stylesheet" href="format.css">
<link rel="stylesheet" type="text/css" href="datatables.min.css"/>

<script type="text/javascript" src="datatables.min.js"></script>
<script src="highcharts.js"></script>
<script src="exporting.js"></script>
<script src="data.js"></script>
<script src="jquery-ui.js"></script>
<script src="sigma.min.js"></script>
<script src="sigma.layout.forceAtlas2.min.js"></script>
<script src="sigma.plugins.dragNodes.min.js"></script>
<script src="script.js"></script>
<script>



$(function () {
	for (index = 0; index < data.length; index++) {
		var ind = index;
		$("#tabs ul").append("<li><a href=\"#tab"+index+"\">"+data[index]['id']+"</a></li>");
		loadChart(index);
		loadTable(index);
		loadNetwork(index);
		$("#tab"+index).accordion({
			header: "h2",
			active:0
		});
		$("#tab"+index).on( "accordionactivate", function( event, ui ) {
			if ($(ui.newPanel).hasClass("network")) {
				// Let's first initialize sigma:
			    var sig = new sigma('network'+ind);

			    // Then, let's add some data to display:
			    for (var i = 0; i < data[ind]["network"]["nodes"].length; i++) {
			    	sig.graph.addNode(data[ind]["network"]["nodes"][i]);
			    }
			    for (var i = 0; i < data[ind]["network"]["edges"].length; i++) {
			    	sig.graph.addEdge(data[ind]["network"]["edges"][i]);
			    }
			    sig.startForceAtlas2({});

			   
			    
			    sig.refresh();
			    window.setTimeout(function() { sig.stopForceAtlas2(); }, 5000);

			};
		});
	}
	$("#tabs").tabs();
});
        
</script>
</head>
<body>
<div id="tabs"><ul></ul></div>



</body>
</html>